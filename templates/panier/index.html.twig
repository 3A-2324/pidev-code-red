{% extends 'basef.html.twig' %}

{% block title %}
    Panier
{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="my-4">Panier</h1>

        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th>Client</th>
                        <th scope="col">Date d'Ajout</th>
                        <th scope="col">image</th>
                        <th scope="col">Quantité</th>
                        <th scope="col">Actions</th>                    </tr>
                </thead>
                <tbody>
                    {% for panier in paniers %}
    <tr>
        <td>{{ panier.id }}</td>
        <td>{{ panier.user.Nom }}</td>
        <td>{{ panier.DateAjout ? panier.DateAjout|date('Y-m-d H:i:s') : '' }}</td>
        <td>
         {% for produit in panier.produits %}
                <img src="{{ asset('img/' ~ produit.image) }}" alt="Image du produit">
            {% endfor %}
        </td>
        <td>{{ panier.quantite }}</td>
        <td>
            <a href="{{ path('app_panier_show', {'id': panier.id}) }}" class="btn btn-primary btn-sm">Voir</a>
            <a href="{{ path('app_panier_edit', {'id': panier.id}) }}" class="btn btn-info btn-sm">Modifier</a>
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="5">Aucun enregistrement trouvé</td>
    </tr>
{% endfor %}

                </tbody>
            </table>
        </div>

        <a href="{{ path('app_panier_new') }}" class="btn btn-success">Créer Nouveau</a>
    </div>
{% endblock %}

