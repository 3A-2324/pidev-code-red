{% extends './templates_back/base.html.twig' %}

{% block title %}Recette index
{% endblock %}

{% block body %}
	<h1>Recette index</h1>

	<div class="actions">
	<a href="{{ path('app_recette_new') }}" class="btn btn-success">Create new</a>
	</div>
	<section>
		<div class="row">
			{% for recette in recettes %}
				<div class="col-md-4 col-sm-6 col-xs-12">
					<div class="card">
						<div class="cover item-a" style="background-image: url('{{ asset('img/' ~ recette.image) }}')">
							<h1>{{ recette.Nom }}</h1>
							<span class="price">{{ recette.calorieRecette }}</span>
							<div class="card-back">
								<p>{{ recette.description }}</p>
								<div class="actions">
									<a href="{{ path('app_recette_show', {'id': recette.id}) }}" class="btn btn-primary">Show</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<td></td>
			{% endfor %}
		</div>
	</section>

	<style>
		@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200;600 &display=swap');

		$transition-time: 2.3s;

		body {
			font-family: 'Oswald', sans-serif;
			background-color: #212121;
		}


		section {
			width: 90%;
			max-width: 1200px;
			margin: 0 auto;
		}
		.row {
			display: flex;
            flex-wrap: wrap;
            justify-content: center;
		}

		.card {
			position: relative;
			height: 400px;
			width: 100%;
			margin: 10px 0;
			transition: ease all $transition-time;
			perspective: 1200px;
		}

		.card:hover .cover {
			transform: rotateX(0deg) rotateY(-180deg);
		}

		.cover {
			position: absolute;
			height: 100%;
			width: 100%;
			transform-style: preserve-3d;
			transition: ease all $transition-time;
			background-size: cover;
			background-position: center center;
			background-repeat: no-repeat;
		}

		.cover:before {
			content: '';
			position: absolute;
			border: 5px solid rgba(255, 255, 255, 0.5);
			box-shadow: 0 0 12px rgba(0, 0, 0, 0.3);
			top: 20px;
			left: 20px;
			right: 20px;
			bottom: 20px;
			z-index: 2;
			transition: ease all $transition-time;
			transform-style: preserve-3d;
			transform: translateZ(0px);
		}

		.cover:after {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 2;
			transition: ease all 1.3s;
			background: rgba(0, 0, 0, 0.4);
		}

		.cover h1 {
			font-weight: 600;
			position: absolute;
			bottom: 55px;
			left: 50px;
			color: white;
			transform-style: preserve-3d;
			transition: ease all $transition-time;
			z-index: 3;
			font-size: 3em;
			transform: translateZ(0px);
		}

		.cover .price {
			font-weight: 200;
			position: absolute;
			top: 55px;
			right: 50px;
			color: white;
			transform-style: preserve-3d;
			transition: ease all $transition-time;
			z-index: 4;
			font-size: 2em;
			transform: translateZ(0px);
		}

		.card-back {
			position: absolute;
			height: 100%;
			width: 100%;
			background: #0b0f08;
			transition: ease all $transition-time;
			transform: translateZ(-1px) rotatey(-180deg);
			display: flex;
			align-items: center;
			justify-content: center;
			backface-visibility: hidden; /* This prevents flipping of content */
		}

		.card-back p {
			font-weight: 200;
			font-size: 1.3em;
			color: white;
			padding: 14px 32px;
			text-align: center;
		}
	</style>

{% endblock %}
